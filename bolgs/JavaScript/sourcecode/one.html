<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、数据类型判断 | 南一的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="学习笔记">
    
    <link rel="preload" href="/learn-JavaScript/assets/css/0.styles.67352108.css" as="style"><link rel="preload" href="/learn-JavaScript/assets/js/app.e1ee19c2.js" as="script"><link rel="preload" href="/learn-JavaScript/assets/js/2.2defd20b.js" as="script"><link rel="preload" href="/learn-JavaScript/assets/js/14.4074c2eb.js" as="script"><link rel="prefetch" href="/learn-JavaScript/assets/js/10.25e5ae9d.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/11.8ff0cdda.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/12.042db3ef.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/13.add44152.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/15.5af1d159.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/16.d3bebc59.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/17.0de39966.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/18.428281fc.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/3.5233a63a.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/4.26f73e91.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/5.5dcec586.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/6.f2a96706.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/7.5cd62d56.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/8.25e8637a.js"><link rel="prefetch" href="/learn-JavaScript/assets/js/9.fd06ca78.js">
    <link rel="stylesheet" href="/learn-JavaScript/assets/css/0.styles.67352108.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learn-JavaScript/" class="home-link router-link-active"><!----> <span class="site-name">南一的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/learn-JavaScript/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/nanyishixiong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://juejin.cn/user/1799224251386701" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/learn-JavaScript/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/nanyishixiong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://juejin.cn/user/1799224251386701" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/learn-JavaScript/" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group depth-0"><a href="/learn-JavaScript/bolgs/" class="sidebar-heading clickable router-link-active open"><span>博客</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/learn-JavaScript/bolgs/JavaScript/scope" class="sidebar-heading clickable open"><span>JS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-JavaScript/bolgs/JavaScript/scope.html" class="sidebar-link">词法作用域和动态作用域</a></li><li><a href="/learn-JavaScript/bolgs/JavaScript/prototype.html" class="sidebar-link">原型与继承</a></li><li><section class="sidebar-group is-sub-group depth-2"><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/one" class="sidebar-heading clickable open active"><span>JS手写题</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/one.html" aria-current="page" class="active sidebar-link">一、数据类型判断</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/one.html#_1-typeof-操作符" class="sidebar-link">1.typeof 操作符</a></li><li class="sidebar-sub-header"><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/one.html#_2-instanceof-运算符" class="sidebar-link">2.instanceof 运算符</a></li><li class="sidebar-sub-header"><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/one.html#_3-object-prototype-tostring-call" class="sidebar-link">3.Object.prototype.toString.call()</a></li></ul></li><li><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/two.html" class="sidebar-link">二、this 指向</a></li><li><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/three.html" class="sidebar-link">三、call、apply、bind的模拟实现</a></li><li><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/four.html" class="sidebar-link">四、偏函数</a></li><li><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/five.html" class="sidebar-link">五、函数柯里化</a></li></ul></section></li><li><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode2.html" class="sidebar-link">JS手写题2</a></li></ul></section></li><li><a href="/learn-JavaScript/bolgs/React/React.html" class="sidebar-link">React</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="一、数据类型判断"><a href="#一、数据类型判断" class="header-anchor">#</a> 一、数据类型判断</h1> <h2 id="_1-typeof-操作符"><a href="#_1-typeof-操作符" class="header-anchor">#</a> 1.typeof 操作符</h2> <h3 id="number"><a href="#number" class="header-anchor">#</a> number</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//输出 number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  		 <span class="token comment">// 尽管他是Not-A-Number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Number 会尝试把参数解析成数值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	 <span class="token comment">// 无限大也是number</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">42n</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		 <span class="token comment">// 这个输出bigint</span>
</code></pre></div><h3 id="string"><a href="#string" class="header-anchor">#</a> string</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//输出 string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">'mc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">adadad</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 模板字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// typeof 操作符 返回字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// String 将任意值转换为字符串，比 toString 更安全</span>
</code></pre></div><h3 id="boolean"><a href="#boolean" class="header-anchor">#</a> boolean</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//输出 boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Boolean(1)是true  Boolean(0)是false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 两次调用 ! (逻辑非) 操作符相当于 Boolean() true</span>
</code></pre></div><h3 id="undefined"><a href="#undefined" class="header-anchor">#</a> undefined</h3> <p><strong>声明但未初始化</strong>和<strong>未声明</strong> <code>typeof</code>输出都是&quot;<code>undefined</code>&quot;，但直接打印<strong>未声明变量</strong>是会报错的</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// undefined</span>
</code></pre></div><h3 id="function"><a href="#function" class="header-anchor">#</a> function</h3> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Symbol<span class="token punctuation">)</span>              <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">// function</span>
</code></pre></div><h3 id="object"><a href="#object" class="header-anchor">#</a> object</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 除 Function 外的所有构造函数的类型都是 'object'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token operator">/</span>regex<span class="token operator">/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="symbol"><a href="#symbol" class="header-anchor">#</a> symbol</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//symbol</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>优点：能够快速区分基本数据类型
缺点：不能将Object、Array和Null区分，都返回object</p> <p><strong>typeof 实现原理：</strong></p> <p>js 在底层是怎么存储数据的类型信息呢？</p> <p>其实，js 在底层存储变量的时候，会在变量的机器码的低位1-3位存储其类型信息</p> <ul><li>000：对象</li> <li>010：浮点数</li> <li>100：字符串</li> <li>110：布尔</li> <li>1：整数</li></ul> <p>但是，对于 <code>undefined</code> 和 <code>null</code> 来说，这两个值的信息存储是有点特殊的。</p> <p><code>null</code>：所有机器码均为0</p> <p><code>undefined</code>：用 −2^30 整数来表示</p> <p>所以，<code>typeof</code> 在判断 <code>null</code> 的时候就出现问题了，由于 <code>null</code> 的所有机器码均为0，因此直接被当做了对象来看待。</p> <h2 id="_2-instanceof-运算符"><a href="#_2-instanceof-运算符" class="header-anchor">#</a> 2.instanceof 运算符</h2> <p><code>instanceof</code>运算符用来检测 <code>constructor.prototype</code> 是否存在于参数 <code>object</code> 的原型链上。
<code>instanceof</code> 运算符用于检测构造函数的 <code>prototype</code> 属性是否出现在某个实例对象的原型链上。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'str'</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">// true</span>
</code></pre></div><p>优点：能够区分Array、Object、Function，适用于判断自定义的类实例对象
缺点：Nunmer、boolean、String基本数据类型不能判断</p> <h3 id="instanceof-原理模拟实现"><a href="#instanceof-原理模拟实现" class="header-anchor">#</a> instanceof 原理模拟实现</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">new_instance_of</span><span class="token punctuation">(</span><span class="token parameter">leftVaule<span class="token punctuation">,</span> rightVaule</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> rightProto <span class="token operator">=</span> rightVaule<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// 取右表达式的 prototype 值</span>
    leftVaule <span class="token operator">=</span> leftVaule<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span> <span class="token comment">// 取左表达式的__proto__值</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">if</span> <span class="token punctuation">(</span>leftVaule <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>leftVaule <span class="token operator">===</span> rightProto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        leftVaule <span class="token operator">=</span> leftVaule<span class="token punctuation">.</span>__proto__
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其实 <code>instanceof</code> 主要的实现原理就是只要右边变量的 <code>prototype</code> 在左边变量的原型链上即可。因此，<code>instanceof</code> 在查找的过程中会遍历左边变量的原型链，直到找到右边变量的 <code>prototype</code>，如果查找失败，则会返回 false，告诉我们左边变量并非是右边变量的实例。</p> <h2 id="_3-object-prototype-tostring-call"><a href="#_3-object-prototype-tostring-call" class="header-anchor">#</a> 3.Object.prototype.toString.call()</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//[object Number]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//[object Boolean]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'mc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//[object String]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//[object Array]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//[object Object]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//[object Function]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//[object Undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//[object Null]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//[object Symbol]</span>
</code></pre></div><p>优点：精准判断数据类型
缺点：写法繁琐不容易记，推荐进行封装后使用</p> <h4 id="简单封装"><a href="#简单封装" class="header-anchor">#</a> <strong>简单封装</strong></h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> typeUtil <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> types <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'String'</span><span class="token punctuation">,</span> <span class="token string">'Array'</span><span class="token punctuation">,</span> <span class="token string">'Number'</span><span class="token punctuation">,</span> <span class="token string">'Object'</span><span class="token punctuation">,</span> <span class="token string">'Undefined'</span><span class="token punctuation">,</span> <span class="token string">'Null'</span><span class="token punctuation">,</span> <span class="token string">'Boolean'</span><span class="token punctuation">,</span> <span class="token string">'Function'</span><span class="token punctuation">,</span> <span class="token string">'Symbol'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
types<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">type</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  typeUtil<span class="token punctuation">[</span><span class="token string">'is'</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[object </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>typeUtil<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//{</span>
<span class="token comment">//  isString: [Function (anonymous)],</span>
<span class="token comment">//  isArray: [Function (anonymous)],</span>
<span class="token comment">//  isNumber: [Function (anonymous)],</span>
<span class="token comment">//  isObject: [Function (anonymous)],</span>
<span class="token comment">//  isUndefined: [Function (anonymous)],</span>
<span class="token comment">//  isNull: [Function (anonymous)],</span>
<span class="token comment">//  isBoolean: [Function (anonymous)],</span>
<span class="token comment">//  isFunction: [Function (anonymous)],</span>
<span class="token comment">//  isSymbol: [Function (anonymous)]</span>
<span class="token comment">//}</span>
</code></pre></div><p>由于<code>String</code>基本包装类型的存在，在必要的时候<code>JS</code>引擎会把字符串字面量转换成一个<code>String</code>对象，从而可以执行访问属性和方法的操作</p> <p><strong>Object</strong>类型的每个实例都有<code>toString</code>方法，返回对象的字符串表示，所以每个实例化的对象都可以调用<code>toString</code>方法。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/learn-JavaScript/bolgs/JavaScript/prototype.html" class="prev">
        原型与继承
      </a></span> <span class="next"><a href="/learn-JavaScript/bolgs/JavaScript/sourcecode/two.html">
        二、this 指向
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/learn-JavaScript/assets/js/app.e1ee19c2.js" defer></script><script src="/learn-JavaScript/assets/js/2.2defd20b.js" defer></script><script src="/learn-JavaScript/assets/js/14.4074c2eb.js" defer></script>
  </body>
</html>
